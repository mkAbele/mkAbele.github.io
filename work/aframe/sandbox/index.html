<html>
  <head>
    
    <!-- <script src="/ammo.js"></script>
    <script src="/ammo.wasm.js"></script> -->

    <script src="./aframe-v1.5.0.js"></script>

    <!-- <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v$npm_package_version/dist/aframe-physics-system.min.js"></script> -->
    <script src="./aframe-extras.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/MozillaReality/ammo.js@8bbc0ea/builds/ammo.wasm.js"></script>
    <script src="./aframe-physics-system.copy.js"></script>
    <!-- <script src="/aframe-environment-component.js"></script> -->

    <!-- <script src="https://mixedreality.mozilla.org/ammo.js/builds/ammo.wasm.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script> -->

    <script src="./character-controller.js"></script>=

  </head>
  <body>
    <a-scene stats vr-mode-ui="enabled: false" physics=" driver: ammo; debug: true; stats:panel;">

        <a-assets>

            <!-- Loads terrain object-->
            <a-asset-item id="terrain-obj" src="./assets/maps/met-newtown/Terrain_mtnewtown_dbg.obj"></a-asset-item>
            <a-asset-item id="terrain-mtl" src="./assets/maps/met-newtown/Terrain_mtnewtown_dbg.mtl"></a-asset-item>

            <!-- Loads debug buildings -->
            <a-asset-item id="dbgBuildings-obj" src="./assets/maps/met-newtown/buildings_mtnewtown_dbg.obj"></a-asset-item>
            <a-asset-item id="dbgBuildings-mtl" src="./assets/maps/met-newtown/buildings_mtnewtown_dbg.mtl"></a-asset-item>
        </a-assets>

        <!-- Terrain -->
        <a-entity ammo-body="type: static; mass: 0;" ammo-shape="type: mesh;" id="terrain" obj-model="obj: #terrain-obj; mtl: #terrain-mtl" position="0 -18 0"></a-entity>

        <!-- Buildings -->
        <a-entity ammo-body="type: static; mass: 0;" ammo-shape="type: mesh;" id="debug-buildings" obj-model="obj: #dbgBuildings-obj; mtl: #dbgBuildings-mtl" position="0 -18 0"></a-entity>

        <!-- Test objects -->
        <a-box ammo-body ammo-shape="type: box;" position="605 2.5 -605" rotation="0 45 0" color="#4CC3D9"></a-box>

        <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
        <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
        <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
        <a-box position="0 0 -4" rotation="-90 0 0" width="4" height="4" depth="0.1" color="#7BC8A4"></a-box>
        <a-box ammo-body ammo-shape="type: box;" id="scaleObject" position="2 0.5 0" color="#F0F0F0"></a-box>

        <!-- Sky box -->
        <!-- <a-sky id="#sky"></a-sky> -->
        <!-- <a-entity environment="playArea: 10;"><a-entity> -->
        <a-entity environment="preset: arches" preset-switcher="" id="environment"></a-entity>

        <!-- First-person camera with look-controls -->
        <!-- <a-entity id="cameraRig"  position="600 1.6 -600" rotation="0 -35 0" character-controller></a-entity> -->

        <a-entity id="cameraRig" movement-controls kinematic-body character-controller>
            <!-- Character model -->
            <a-entity id="character" position="0 0 0">
                <!-- Add your character model here visible="false" -->
                <a-box position="0 0.26 0" width="0.6" height="1.86" depth="0.6" color="blue" visible="false" ammo-body="type: kinematic; mass: 80;" ammo-shape="type: box;"></a-box>
            </a-entity>
            <!-- Camera -->
            <a-entity id="camera" position="0 1.6 0" camera look-controls="pointerLockEnabled: true"></a-entity>
        </a-entity>

        <!-- <a-entity id="rig" movement-controls kinematic-body>
          <a-entity camera
              position="0 1.6 0"
              look-controls="pointerLockEnabled: true"></a-entity>
        </a-entity> -->


    </a-scene>
  </body>
</html>